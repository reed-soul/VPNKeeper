<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<style>
		body {
			width: 300px;
			padding: 15px;
			font-family: Arial, sans-serif;
		}

		.status {
			margin: 10px 0;
			padding: 8px;
			border-radius: 4px;
		}

		.success {
			background: #e6ffe6;
		}

		.error {
			background: #ffe6e6;
		}

		.switch {
			position: relative;
			display: inline-block;
			width: 60px;
			height: 34px;
		}

		.switch input {
			opacity: 0;
			width: 0;
			height: 0;
		}

		.slider {
			position: absolute;
			cursor: pointer;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: #ccc;
			transition: .4s;
			border-radius: 34px;
		}

		.slider:before {
			position: absolute;
			content: "";
			height: 26px;
			width: 26px;
			left: 4px;
			bottom: 4px;
			background-color: white;
			transition: .4s;
			border-radius: 50%;
		}

		input:checked+.slider {
			background-color: #2196F3;
		}

		input:checked+.slider:before {
			transform: translateX(26px);
		}

		.test-button {
			margin-top: 10px;
			padding: 8px 16px;
			background-color: #4CAF50;
			color: white;
			border: none;
			border-radius: 4px;
			cursor: pointer;
		}

		.test-button:hover {
			background-color: #45a049;
		}

		.test-button:disabled {
			background-color: #cccccc;
			cursor: not-allowed;
		}
	</style>
</head>

<body>
	<h2>VPN Keeper</h2>

	<div>
		<label class="switch">
			<input type="checkbox" id="enableToggle">
			<span class="slider"></span>
		</label>
		<span id="statusText">启用中</span>
	</div>

	<div class="status" id="statusBox">
		上次请求时间: <span id="lastPingTime">-</span><br>
		状态: <span id="status">-</span>
	</div>

	<button id="testButton" class="test-button">测试连接</button>
	<div id="testResult" style="margin-top: 10px; font-size: 14px;"></div>

	<div class="settings-section">
		<h3>设置</h3>
		<div class="setting-item">
			<label for="intervalInput">心跳间隔 (分钟):</label>
			<input type="number" id="intervalInput" min="1" max="60" value="10">
		</div>
		<div class="setting-item">
			<label for="pingUrlInput">心跳地址:</label>
			<input type="text" id="pingUrlInput" style="width: 100%; margin-top: 5px;" 
				placeholder="http://example.com/ping">
		</div>
	</div>

	<div class="details-section">
		<div class="detail-item">
			<span>重试次数:</span>
			<span id="retryCount">0</span>
		</div>
		<div class="detail-item">
			<span>下次请求时间:</span>
			<span id="nextPingTime">-</span>
		</div>
	</div>

	<script src="popup.js"></script>
</body>

</html>